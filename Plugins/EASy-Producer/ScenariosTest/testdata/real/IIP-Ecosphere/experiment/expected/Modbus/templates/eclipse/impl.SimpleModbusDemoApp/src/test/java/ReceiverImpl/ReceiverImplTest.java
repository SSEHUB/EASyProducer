package ReceiverImpl;

import java.util.concurrent.ExecutionException;

import de.iip_ecosphere.platform.services.environment.ServiceState;

import iip.datatypes.ModbusPhoenixEEM;
import iip.datatypes.ModbusPhoenixEEMImpl;
import iip.datatypes.ModbusSiemensSentron;
import iip.datatypes.ModbusSiemensSentronImpl;

import org.junit.After;
import org.junit.Before;
import org.junit.Test;
import org.slf4j.LoggerFactory;

/**
 * IIP-Ecosphere service jUnit test for 'Modbus Receiver'.
 * Generated by: EASy-Producer.
 */
public class ReceiverImplTest {

    private ReceiverImpl service;

    /**
     * Tests processing a data item of type "ModbusPhoenixEEM" asynchronously.
     */
    @Test
    public void testProcessModbusPhoenixEEM() {
        ModbusPhoenixEEM data = new ModbusPhoenixEEMImpl();
        // TODO fill data via setters
        service.processModbusPhoenixEEM(data);
        // no direct output for a sink. may be it's generating a log, a file, etc. to assert
    }

    /**
     * Tests processing a data item of type "ModbusSiemensSentron" asynchronously.
     */
    @Test
    public void testProcessModbusSiemensSentron() {
        ModbusSiemensSentron data = new ModbusSiemensSentronImpl();
        // TODO fill data via setters
        service.processModbusSiemensSentron(data);
        // no direct output for a sink. may be it's generating a log, a file, etc. to assert
    }

    /**
     * Initializes the test.
     */
    @Before
    public void startup() {
        // constructor for testing, does not set up service management values!
        service = new ReceiverImpl();
        try {
            service.setState(ServiceState.STARTING);
        } catch (ExecutionException e) {
            LoggerFactory.getLogger(getClass())
                .error("Cannot start service: {}", e);
        }
    }

    /**
     * Shuts down the test.
     */
    @After
    public void shutdown() {
        try {
            service.setState(ServiceState.STOPPING);
        } catch (ExecutionException e) {
            LoggerFactory.getLogger(getClass())
                .error("Cannot stop service: {}", e);
        }
    }

}
