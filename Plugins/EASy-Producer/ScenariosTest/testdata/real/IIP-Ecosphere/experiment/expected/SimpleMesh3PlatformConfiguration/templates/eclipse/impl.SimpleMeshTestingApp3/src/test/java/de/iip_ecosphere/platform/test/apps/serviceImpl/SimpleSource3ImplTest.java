package de.iip_ecosphere.platform.test.apps.serviceImpl;

import java.util.concurrent.ExecutionException;
import de.iip_ecosphere.platform.services.environment.*;
import iip.datatypes.*;

import org.slf4j.LoggerFactory;

import org.junit.After;
import org.junit.Assert;
import org.junit.Before;
import org.junit.Test;

/**
 * IIP-Ecosphere service jUnit test for 'Simple Data Source3'.
 * Generated by: EASy-Producer.
 */
public class SimpleSource3ImplTest {

    private SimpleSource3Impl service;

    
    /**
     * Synchronous source method, called to produce data items of type "Rec13".
     *
     * @return the data value to be ingested
     */
    @Test
    public void testProduceRec13() {
        Rec13 res = service.produceRec13();
        Assert.assertNotNull(res); // contract, see platform handbook
        // TODO assert fields of res
    }

    /**
     * Initializes the test.
     */
    @Before
    public void startup() {
        service = new SimpleSource3Impl(); // constructor for testing, does not set up service management values!        
        try {
            service.setState(ServiceState.STARTING);
        } catch (ExecutionException e) {
            LoggerFactory.getLogger(getClass()).error("Cannot start service: {}", e);
        }
    }

    /**
     * Shuts down the test.
     */
    @After
    public void shutdown() {
        try {
            service.setState(ServiceState.STOPPING);
        } catch (ExecutionException e) {
            LoggerFactory.getLogger(getClass()).error("Cannot stop service: {}", e);
        }
    }
    
}
