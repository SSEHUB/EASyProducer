package iip.impl;

import java.util.*;
import java.util.concurrent.ExecutionException;
import java.io.InputStream;
import de.iip_ecosphere.platform.transport.serialization.TypeTranslators;
import de.iip_ecosphere.platform.services.environment.*;
import iip.datatypes.*;
import iip.interfaces.*;

/**
 * IIP-Ecosphere supporting service implementation for 'ParallelRoutingProcessor1'.
 * Generated by: EASy-Producer.
 */
public abstract class ParallelRoutingProcessor1Impl extends DefaultServiceImpl implements ParallelRoutingProcessor1Interface {
    private Map<String, ParameterConfigurer<?>> paramConfigurers = new HashMap<>();
    private List<DataIngestor<RoutingTestData>> routingTestDataIngestors = new ArrayList<>();


    /**
     * Fallback constructor setting most fields to "empty" default values.
     * 
     * @param kind the service kind
     */
    protected ParallelRoutingProcessor1Impl(ServiceKind kind) {
        super(kind);
        registerParameterConfigurers();
    }

    /**
     * Fallback constructor setting most fields to "empty" default values.
     * 
     * @param id the id of the service
     * @param kind the service kind
     */
    protected ParallelRoutingProcessor1Impl(String id, ServiceKind kind) {
        super(id, kind);
        registerParameterConfigurers();
    }

    /**
    * Creates a service instance from YAML information.
    * 
    * @param yaml the service information as read from YAML
    */
    protected ParallelRoutingProcessor1Impl(YamlService yaml) {
        super(yaml);
        registerParameterConfigurers();
    }
    
    /**
    * Creates a service instance from a service id and a YAML artifact.
    * 
    * @param serviceId the service id
    * @param ymlFile the YML file containing the YAML artifact with the service descriptor
    */
    protected ParallelRoutingProcessor1Impl(String serviceId, InputStream ymlFile) {
        super(serviceId, ymlFile);
        registerParameterConfigurers();
    }
    
    @Override
    public ParameterConfigurer<?> getParameterConfigurer(String paramName) {
        return paramConfigurers.get(paramName);
    }
    
    /**
    * Registers the configurers.
    */
    protected void registerParameterConfigurers() {            }
            
    @Override
    public void attachRoutingTestDataIngestor(DataIngestor<RoutingTestData> ingestor) {
        if (ingestor != null) {
            routingTestDataIngestors.add(ingestor);
        }
    }
    
    /**
    * Returns whether there are registered RoutingTestData ingestors.
    *
    * @return {@code true} if there are RoutingTestData ingestors, {@code false} else
    */
    protected boolean hasRoutingTestDataIngestor() {
        return routingTestDataIngestors.size() > 0;
    }
    
    /**
    * Returns the number of registered RoutingTestData ingestors.
    *
    * @return the number of RoutingTestData ingestors
    */
    protected int hasRoutingTestDataIngestorCount() {
        return routingTestDataIngestors.size();
    }
    
    /**
    * Sends {@code data} to all registered RoutingTestData ingestors.
    *
    * @param data the data to be sent
    */
    protected void ingestRoutingTestData(RoutingTestData data) {
        for (int i = 0; i < routingTestDataIngestors.size(); i++) {
            routingTestDataIngestors.get(i).ingest(data);
        }
    }
    
    
}
