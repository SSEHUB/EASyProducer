import javaLib;

@indent(indentation = 4, additional = 0)
@format(profile="java", profileArg_javadocIndent="* ", lineLength = 120)
template JavaCode3Tpl(Configuration config, FileArtifact target) {

    def main(Configuration config, FileArtifact target) {
        String pkg = "de.iip_ecosphere.platform.support.aas.types";
        setOf(String) javaTests = { "de.iip_ecosphere.platform.support.aas.types.ContactInformationsBuilderTest", 
            "de.iip_ecosphere.platform.support.aas.types.AnotherBuilderTest" };
        
        JavaCodeArtifact art = target;
        art.setPackage(pkg);
        
        JavaCodeClass mainCls = art.addClass("AllTests",
            'Service jUnit test suite.
            Generated by: EASy-Producer.');
        mainCls.addAnnotation("org.junit.runner.RunWith")
            .addArgument("Suite.class");
        mainCls.addAnnotation("org.junit.runners.Suite", "SuiteClasses")
            .addArgument(javaTests->collect(n|n + ".class")->sortedBy(n|n).toSequence(), true, false); // sortedBy for testing
    }
    
}
